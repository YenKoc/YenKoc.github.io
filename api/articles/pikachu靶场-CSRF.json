{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"pikachu靶场-CSRF","date":"2021-04-16T07:24:58.532Z","updated":"2021-04-16T07:56:36.812Z","comments":true,"path":"api/articles/pikachu靶场-CSRF.json","keywords":null,"cover":[],"content":"<h1 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h1><p><img src=\"https://raw.githubusercontent.com/YenKoc/YenKoc_tuchuang/main/images20210416152710.png\"></p>\n<p>有一说一，这里概述讲的非常清晰了，尤其是xss和csrf的区别，csrf其实就是借用他人的手去干坏事，而不是我们去拿到他的cookie去干坏事的，这里区别还是有的，核心表现就是搞个虚假链接，事先把要接口和参数写好，一点击就立马发送请求，测试了下是会自动加cookie的，所以token就很重要了，如果没有类似token这种校验，那么就无法判断这个玩意是不是他本意发送的。。毕竟cookie的时效会持续一段时间的，</p>\n<h1 id=\"csrf-get\"><a href=\"#csrf-get\" class=\"headerlink\" title=\"csrf(get)\"></a>csrf(get)</h1><p><img src=\"https://raw.githubusercontent.com/YenKoc/YenKoc_tuchuang/main/images20210416153839.png\"></p>\n<p>登录后，发现一个表单是修改信息的，bp上抓包，发现是get请求，好家伙</p>\n<p><img src=\"https://raw.githubusercontent.com/YenKoc/YenKoc_tuchuang/main/images20210416154052.png\"></p>\n<p>那么我只要有cookie，把参数一改，我就可以把个人信息改了，那么只需要生成一个链接，点击完事了，bp上</p>\n<p>有生成csrf的按钮，按完就可以操作了2333</p>\n<p><img src=\"https://raw.githubusercontent.com/YenKoc/YenKoc_tuchuang/main/images20210416154300.png\"></p>\n<p>测试了一波，发现没啥大毛病，点击后，发现估计是域名识别还是，会自动加上域名的，稳</p>\n<h1 id=\"csrf（post）\"><a href=\"#csrf（post）\" class=\"headerlink\" title=\"csrf（post）\"></a>csrf（post）</h1><p>和上面差不多，emm，不过get方法，是可以直接在url上加参数，那么直接点击就处罚，post是只能用表单了</p>\n<h1 id=\"csrf（Token\"><a href=\"#csrf（Token\" class=\"headerlink\" title=\"csrf（Token)\"></a>csrf（Token)</h1><p><img src=\"https://raw.githubusercontent.com/YenKoc/YenKoc_tuchuang/main/images20210416155349.png\"></p>\n<p>和上文的暴力破解差不多的，每次请求，服务器都会返回一个不同的token，不过应该是有时效的，而且时效还不</p>\n<p>短，问题加了token，这个链接如果长时间没去点击就完犊子了，而且token去哪获得2333，所以这题根本没解</p>\n","feature":null,"text":"概述 有一说一，这里概述讲的非常清晰了，尤其是xss和csrf的区别，csrf其实就是借用他人的手去干坏事，而不是我们去拿到他的cookie去干坏事的，这里区别还是有的，核心表现就是搞个虚假链接，事先把要接口和参数写好，一点击就立马发送请求，测试了下是会自动加cookie的，所以...","link":"","photos":[],"count_time":{"symbolsCount":562,"symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%A6%82%E8%BF%B0\"><span class=\"toc-text\">概述</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#csrf-get\"><span class=\"toc-text\">csrf(get)</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#csrf%EF%BC%88post%EF%BC%89\"><span class=\"toc-text\">csrf（post）</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#csrf%EF%BC%88Token\"><span class=\"toc-text\">csrf（Token)</span></a></li></ol>","author":{"name":"YenKoc","avatar":"https://avatars.githubusercontent.com/u/52554268?s=400&u=e21e2b4ac372eaf3c2bc9c720c1ac24f974e936a&v=4","link":""},"mapped":true,"prev_post":{"title":"pikachu靶场-RCE","uid":"e5bc877fa4a0c33bb045786c11ac5c34","slug":"pikachu靶场-RCE","date":"2021-04-16T08:13:55.000Z","updated":"2021-04-16T08:22:50.355Z","comments":true,"path":"api/articles/pikachu靶场-RCE.json","keywords":null,"cover":"https://i0.hdslb.com/bfs/article/a5964363335d93811c9b6e0cb80762ac5f87851d.jpg@1320w_1844h.webp","text":"概述 其实就是没对输入做限制，我们可以构造输入，然后直接在对方的服务器上执行，芜湖 exec ping 用管道符隔开，可以执行两段命令，记住就行 exec eval 执行不了就会报错，所以我们这里直接输入phpinfo();，理论上php上的任意可执行的命令都可以的 ","link":"","photos":[],"count_time":{"symbolsCount":135,"symbolsTime":"1 mins."},"categories":[{"name":"渗透测试","slug":"渗透测试","count":3,"path":"api/categories/渗透测试.json"}],"tags":[{"name":"渗透测试","slug":"渗透测试","count":3,"path":"api/tags/渗透测试.json"}],"author":{"name":"YenKoc","avatar":"https://avatars.githubusercontent.com/u/52554268?s=400&u=e21e2b4ac372eaf3c2bc9c720c1ac24f974e936a&v=4","link":""}},"next_post":{"title":"pikachu靶场-XSS","uid":"4b815d1a9fd6704c9aee8cee1d9828dc","slug":"pikachu靶场-XSS","date":"2021-04-16T01:34:32.000Z","updated":"2021-04-16T05:30:40.058Z","comments":true,"path":"api/articles/pikachu靶场-XSS.json","keywords":null,"cover":"https://i0.hdslb.com/bfs/article/4c718f8e245a22593c95dfd77a145ac064eade72.jpg@1320w_1144h.webp","text":"xss（跨站脚本）概述一般xss可以分为如下几种常见的类型： 反射性xss 存储型xss Dom型xss 反射型xss(get) 一个输入框，然后输入的时候，发现会出现，我输入什么，下面会直接显示出一句话加上我输入的地方，这里就容易出现xss漏洞，先弹窗，弹下 并没有什么过滤，和...","link":"","photos":[],"count_time":{"symbolsCount":923,"symbolsTime":"1 mins."},"categories":[{"name":"渗透测试","slug":"渗透测试","count":3,"path":"api/categories/渗透测试.json"}],"tags":[{"name":"渗透测试","slug":"渗透测试","count":3,"path":"api/tags/渗透测试.json"}],"author":{"name":"YenKoc","avatar":"https://avatars.githubusercontent.com/u/52554268?s=400&u=e21e2b4ac372eaf3c2bc9c720c1ac24f974e936a&v=4","link":""}}}